(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{"resources/elements/icon-base":function(e,t,n){"use strict";n.r(t),n.d(t,"IconBaseCustomElement",(function(){return w}));var i,r,s,a,o,l,c,u,d,p,m,h,b=n("aurelia-framework");function f(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function g(e,t,n,i,r){var s={};return Object.keys(i).forEach((function(e){s[e]=i[e]})),s.enumerable=!!s.enumerable,s.configurable=!!s.configurable,("value"in s||s.initializer)&&(s.writable=!0),s=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),s),r&&void 0!==s.initializer&&(s.value=s.initializer?s.initializer.call(r):void 0,s.initializer=void 0),void 0===s.initializer&&(Object.defineProperty(e,t,s),s=null),s}var v=n("+Aae").a,w=(r=g((i=function(){function e(){f(this,"item",r,this),f(this,"anim_style",s,this),f(this,"debug",a,this),f(this,"count",o,this),f(this,"altImage",l,this),f(this,"progress",c,this),f(this,"stalled",u,this),f(this,"required",d,this),f(this,"max_fill",p,this),f(this,"metas",m,this),f(this,"showName",h,this),this.parsedCount=null,this.mgrs=v}var t=e.prototype;return t.bind=function(e,t){if(this.item){if("string"==typeof this.item)if(this.item.indexOf("@")>-1)this.item={icon:this.item};else{this.altTip=this.item;try{this.item=v.item.get(this.item),this.hasEntity=v.data.entity[this.item.name]}catch(e){console.warn(this.item)}if(!this.item)return}else"object"==typeof this.item&&(this.altTip=this.item.name,this.hasEntity=this.item.hasEntity||v.data.entity[this.item.name]);this.item.icon||(this.item.icon=v.item.get(this.item.name).icon),this.altImage&&-1==this.altImage.indexOf("@")&&(this.altImage="item@"+this.altImage)}},t.itemChanged=function(e){e&&("string"==typeof e?(this.altTip=e,this.item=v.item.get(e)):"object"==typeof e&&(this.altTip=e.name))},t.altImageChanged2=function(e){e&&e.includes("@")&&(console.log("lookup "+e),this.altImage=v.item.get(e),console.log(this.altImage))},e}()).prototype,"item",[b.c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),s=g(i.prototype,"anim_style",[b.c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),a=g(i.prototype,"debug",[b.c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),o=g(i.prototype,"count",[b.c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),l=g(i.prototype,"altImage",[b.c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c=g(i.prototype,"progress",[b.c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=g(i.prototype,"stalled",[b.c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=g(i.prototype,"required",[b.c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=g(i.prototype,"max_fill",[b.c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=g(i.prototype,"metas",[b.c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=g(i.prototype,"showName",[b.c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),i)},"resources/elements/icon-base.html":function(e,t,n){e.exports='<template title.bind="altTip">\r\n  <require from="./icon-base.scss"> </require>\r\n  <div class="${item.filtered && \'ghosted\'}">\r\n    <img src.bind="mgrs.icon.getSrc(item.icon)" height="32px"/>\r\n    <span if.bind="showName" class="nameField">${item.name}</span>\r\n  </div>\r\n  <div class="modis"> \r\n    <span if.bind="altImage" class="altImage"><img src="${mgrs.icon.getSrc(altImage)}" /></span>\r\n    <span if.bind="max_fill"  class="max_fill" >/${max_fill}</span>\r\n    <span if.bind="required" class="required">x${required}</span>\r\n    <span if.bind="count!=undefined">${count}</span>\r\n  </div>\r\n  <div class="metas">\r\n    <span if.bind="metas.showEntity && hasEntity" class="entityIcon">M</span>\r\n    <span if.bind="metas.stalled" class="stalled fas fa-circle"></span>\r\n  </div>\r\n  <div if.bind="stalled" class="progressBarBase stalled"></div>\r\n  <div\r\n    if.bind="!stalled && progress"\r\n    class="progressBarBase"\r\n    css="border-image-source: linear-gradient(to right, green ${progress}%, red ${progress}%)"\r\n  ></div>\r\n  <div>\r\n    <span class="animTarget ${item.animClass2}" style.bind="item.animTime"></span>\r\n  </div>\r\n</template>\r\n'},"resources/elements/icon-base.scss":function(e,t,n){(t=n("JPst")(!1)).push([e.i,"icon-base{display:inline-block;color:#49fb35;font-size:16px;text-align:center;font-weight:700;-webkit-text-stroke:1px #006400;width:40px;height:40px;position:relative;padding:2px;box-sizing:content-box;margin-right:5px}icon-base .metas span.entityIcon{color:red;font-weight:700;bottom:-12px;font-size:1.2em;left:0;right:0;position:absolute;text-align:center}icon-base .metas span.stalled{color:red;position:absolute;left:0;right:0;bottom:-5px;font-size:.5rem}icon-base>div{display:inline-block;position:absolute;top:0;left:0;right:0;bottom:0}icon-base span.animTarget{width:32px;height:32px;position:absolute;left:0;top:0}icon-base>.modis>span{position:absolute;font-size:smaller}icon-base>.modis>span.required{color:red;-webkit-text-stroke:#f44}icon-base>.modis>span.max_fill{color:#dc143c}icon-base>.modis>span:first-of-type{bottom:0;right:0}icon-base>.modis>span:nth-of-type(2){bottom:0;left:0}icon-base>.modis>span:nth-of-type(3){top:0;right:0}icon-base>.modis>span:nth-of-type(4){top:0;left:0}icon-base>.modis>span.altImage{height:24px;-webkit-backdrop-filter:blur(1px) hue-rotate(-45deg);backdrop-filter:blur(1px) hue-rotate(-45deg)}.altImage>img{height:100%}.ghosted{border:1px dashed grey;border-radius:4px}.nameField{overflow:auto;white-space:nowrap}icon-base.countFull{color:red;-webkit-text-stroke:#f44}",""]),e.exports=t},"resources/elements/iconEditor":function(e,t,n){"use strict";n.r(t),n.d(t,"IconEditor",(function(){return c}));var i,r=n("+Aae"),s=n("aurelia-templating-resources"),a=n("aurelia-framework");function o(e,t,n,i,r,s,a){try{var o=e[s](a),l=o.value}catch(e){return void n(e)}o.done?t(l):Promise.resolve(l).then(i,r)}function l(e){return function(){var t=this,n=arguments;return new Promise((function(i,r){var s=e.apply(t,n);function a(e){o(s,i,r,a,l,"next",e)}function l(e){o(s,i,r,a,l,"throw",e)}a(void 0)}))}}var c=Object(a.d)(s.a)(i=function(){function e(e){this.IE={ds:{old:{},new:{}},select:{},show:"old"},this.show_on=!1,this.mgrs=r.a,this.mgrs.IE=this,this.iconEditor(),this.signaler=e}var t=e.prototype;return t.iconEditor=function(){var e=l(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.mgrs.idb.get("Icons");case 2:if(e.t0=e.sent,e.t0){e.next=7;break}return e.next=6,this.mgrs.idb.get("dataSet");case 6:e.t0=e.sent.icons;case 7:return this.IE.ds.new=e.t0,e.next=10,this.mgrs.idb.get("oldIcons");case 10:if(this.IE.ds.old=e.sent,e.t1=this.IE.ds.old,e.t1){e.next=18;break}return e.next=15,this.mgrs.idb.set("oldIcons",this.IE.ds.new);case 15:if(e.t2=e.sent,!e.t2){e.next=18;break}this.IE.ds.old=this.IE.ds.new;case 18:this.signaler.signal("update");case 19:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t.IEshow=function(){this.IE.showOld=this.IE.ds.old[this.IE.select.Cat][this.IE.select.Icon],this.IE.showNew=this.IE.ds.new[this.IE.select.Cat][this.IE.select.Icon],this.signaler.signal("update")},t.IEfiled=function(){var e=l(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=function(){var e=l(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new FileReader,e.abrupt("return",new Promise((function(e){n.onload=function(){e(n.result)},n.readAsDataURL(t)})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.next=3,t(this.IE.file[0]);case 3:this.IE.fileBlob=e.sent;case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t.newIcon=function(){if(!this.newName||-1==this.newName.indexOf("@"))return this.newName=void 0,void console.log("cancel");var e=this.newName.split("@"),t=e[0],n=e[1];this.IE.ds.new[t][n]=null,this.IE.select.Cat=t,this.IE.select.Icon=n,this.show_on=!0,this.signaler.signal("update")},t.deleteNew=function(){this.IE.ds.new[this.IE.select.Cat][this.IE.select.Icon]=null,this.IE.select.Icon=null,this.signaler.signal("update")},t.copyIcon=function(){navigator.clipboard.writeText(this.IE.showNew)},t.IEStore=function(){this.IE.ds.new[this.IE.select.Cat][this.IE.select.Icon]=this.IE.fileBlob,this.IE.fileBlob=null,this.signaler.signal("update")},t.saveIconEditor=function(){var e=l(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.mgrs.idb.set("Icons",this.IE.ds.new);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t.revertIcon=function(){this.IE.ds.new[this.IE.select.Cat][this.IE.select.Icon]=this.IE.ds.old[this.IE.select.Cat][this.IE.select.Icon]},t.dlIcon=function(e){var t=document.createElement("a");t.download=this.IE.select.Icon+".jpg",t.href="new"==e?this.IE.showNew:this.IE.showOld,t.style="display:none",document.body.appendChild(t),t.click(),t.remove()},t.dlIconEditor=function(){var e=document.createElement("a");e.download="icons.json",e.href="data:application/octet-stream:base64,"+JSON.stringify(this.IE.ds.new),e.style="display:none",document.body.appendChild(e),e.click(),e.remove()},t.ulIconEditor=function(){var e=l(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.IE.upload){e.next=2;break}return e.abrupt("return");case 2:return t=function(){var e=l(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new FileReader,e.abrupt("return",new Promise((function(e){n.onload=function(){e(n.result)},n.readAsText(t)})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.t0=JSON,e.next=6,t(this.IE.upload[0]);case 6:e.t1=e.sent,n=e.t0.parse.call(e.t0,e.t1),this.mgrs.idb.set("Icons",n),console.log("loaded");case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),e}())||i},"resources/elements/iconEditor.html":function(e,t){e.exports='<template>\r\n  New: <input type="text" placeholder="New Icon cat@name" value.bind="newName"><span click.delegate="newIcon()">Add</span><br>\r\n\r\n  New Source?:<input type="checkbox" checked.bind="show_on"></input>\r\n  <select value.bind="IE.select.Cat">\r\n    <option repeat.for="cat of IE.ds[show_on ? \'new\': \'old\'] | objectKeys & signal:\'update\'" model.bind="cat">${cat}</option>\r\n  </select>\r\n  <select value.bind="IE.select.Icon">\r\n    <option repeat.for="icon of IE.ds[show_on ? \'new\': \'old\'][IE.select.Cat] | objectKeys & signal:\'update\'" model.bind="icon">${icon}</option>\r\n  </select>\r\n  <button click.delegate="IEshow()">Show</button><br>\r\n  <figcaption class="inline">Old</figcaption>\r\n  <span class="btn" click.delegate="revertIcon()">Revert</span>\r\n  <img src.bind="IE.showOld & signal:\'update\'" click.delegate="dlIcon(\'old\')" height="64px" width="64px"/>\r\n  <img src.bind="IE.showNew & signal:\'update\'" click.delegate="dlIcon(\'new\')" height="64px" width="64px"/>\r\n  <span class="btn" click.delegate="deleteNew()">Delete</span>\r\n  <figcaption class="inline">New</figcaption><br>\r\n  <input type="file" files.bind="IE.file" accept="image/*" change.delegate="IEfiled()">Select replacement</input>\r\n  <img src.bind="IE.fileBlob & signal:\'update\'"></img><br>\r\n  <button click.delegate="copyIcon()">Copy</button>\r\n  <button click.delegate="IEStore()">Store</button>\r\n  <button click.delegate="saveIconEditor()">SaveDB</button><br>\r\n  <button click.delegate="dlIconEditor()">Download Json</button>\r\n  <input type="file" name="name" files.bind="IE.upload" style="display:none" id="IconFileSelect" accept=".json" change.delegate="ulIconEditor()">\r\n  <button onclick="document.getElementById(\'IconFileSelect\').click();">Upload Json</button>\r\n</template>\r\n'},"resources/elements/inventory.html":function(e,t){e.exports='<template bindable="items, clickCall">\r\n  <icon-base\r\n    repeat.for="item of items"\r\n    item.bind="item"\r\n    if.bind="item.filtered || item.count>0"\r\n    count.bind="item.count"\r\n    modis.bind="{count: item.count}"\r\n    metas.bind="{showEntity: true}"\r\n    click.delegate="clickCall({item})"\r\n  ></icon-base>\r\n</template>\r\n'},"resources/elements/mainPanes/defensePane.html":function(e,t){e.exports='<template>\r\n  <icon-base repeat.for="machine of facBlocks.defenses.machines | objectValues"\r\n    item.bind="machine.name"\r\n    click.delegate="CCC.issue(\'invUse\', {\r\n      how:\'sub-n-crement\',\r\n      from: player.inv,\r\n      what: machine.name, \r\n      count: 1,\r\n      to: machine,\r\n      to_prop: \'count\'\r\n    })"\r\n    count.bind="machine.count"\r\n  >\r\n  </icon-base>\r\n</template>\r\n'},"resources/elements/mainPanes/offensePane.html":function(e,t){e.exports="<template>\r\n  Radar\r\n  <icon-base item.bind=\"facBlocks.offenses.radar\"\r\n    click.delegate=\"CCC.issue('invUse', {\r\n      how:'sub-n-crement',\r\n      from: player.inv,\r\n      what: 'radar', \r\n      count: 1,\r\n      to: facBlocks.offenses.radar,\r\n      to_prop: 'count'\r\n    })\"\r\n    count.bind=\"facBlocks.offenses.radar.count\"\r\n  >\r\n  </icon-base>\r\n  <br>\r\n  Offensive bots\r\n  <icon-base repeat.for=\"machine of facBlocks.offenses.machines | objectValues\"\r\n    item.bind=\"machine.name\"\r\n    click.delegate=\"CCC.issue('invUse', {\r\n      how:'sub-n-crement',\r\n      from: player.inv,\r\n      what: machine.name, \r\n      count: 1,\r\n      to: machine,\r\n      to_prop: 'count'\r\n    })\"\r\n    count.bind=\"machine.count\"\r\n  >\r\n  </icon-base>\r\n</template>\r\n"},"resources/elements/micro/scopeVar.html":function(e,t){e.exports='<template bindable="var">\r\n  <input type="hidden" value.one-time="var & signal:\'generalUpdate\'">\r\n</template>\r\n'},"resources/elements/micro/toasted.html":function(e,t){e.exports='<template bindable="toast, c-view">\r\n    <span\r\n        class="${toast.class}"\r\n        click.delegate="toast._alert(toast)"\r\n    >\r\n        <image if.bind="toast.icon" src="${toast.icon}"></image>\r\n        <span if.bind="!toast.icon && toast.fa" class="fas ${toast.fa}"></span>\r\n    </span>\r\n</template>'},"resources/elements/popouts/filtersPopout.html":function(e,t){e.exports="<template>\r\n Yay! Filters!\r\n</template>\r\n"},"resources/elements/rounderTab.html":function(e,t,n){e.exports='<template>\r\n  <require from="resources/elements/rounderTab.scss"></require>\r\n  <div class="container">\r\n    <div class="row sliders">\r\n      <div class="vert-slider">\r\n        <input id="huns" class="vertical" type="range" min="0" max="9" step="1" value.bind="mgrs.rounder.huns">\r\n      </div>\r\n      <div class="vert-slider">\r\n        <input id="tens" class="vertical" type="range" min="0" max="9" step="1" value.bind="mgrs.rounder.tens">\r\n      </div>\r\n      <div class="vert-slider">\r\n        <input id="ones" class="vertical" type="range" min="0" max="9" step="1" value.bind="mgrs.rounder.ones">\r\n      </div>\r\n    </div>\r\n    <div class="row">\r\n      <span class="col text-center">${mgrs.rounder.huns}${mgrs.rounder.tens}${mgrs.rounder.ones}</span>\r\n    </div>\r\n    <div class="row">\r\n      <label class="switch">\r\n        <input type="checkbox" value.bind="mgrs.rounder.abs">\r\n        <span class="slider text_abs_mod"></span>\r\n      </label>\r\n      <label class="switch">\r\n        <input type="checkbox" value.bind="mgrs.rounder.fail">\r\n        <span class="slider text_full_part"></span>\r\n      </label>\r\n    </div>\r\n  </div>\r\n</template>\r\n'},"resources/elements/rounderTab.scss":function(e,t,n){(t=n("JPst")(!1)).push([e.i,"#numSelectors .row{margin:0}#numSelectors input.vertical[type=range]{transform:rotate(-90deg);transform-origin:bottom left;position:absolute;left:100%;bottom:0;width:14vh}#numSelectors .row.sliders{height:15vh}#numSelectors .row.sliders .vert-slider{padding:0;margin-left:6px;height:15vh;width:16px;bottom:0;position:relative}#numSelectors>.tab_toggle:checked~[slot=content]>compose{width:70px}#numSelectors>.tab_toggle:checked~[slot=content]>compose>*{height:20vh;padding:0;display:inline-block}#numSelectors>.tab_toggle:checked~[slot=content]>compose>span{width:100%;text-align:center}",""]),e.exports=t},"resources/elements/tool-tip":function(e,t,n){"use strict";n.r(t),n.d(t,"ToolTipCustomElement",(function(){return d}));var i,r,s,a,o=n("aurelia-framework"),l=n("+Aae");function c(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function u(e,t,n,i,r){var s={};return Object.keys(i).forEach((function(e){s[e]=i[e]})),s.enumerable=!!s.enumerable,s.configurable=!!s.configurable,("value"in s||s.initializer)&&(s.writable=!0),s=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),s),r&&void 0!==s.initializer&&(s.value=s.initializer?s.initializer.call(r):void 0,s.initializer=void 0),void 0===s.initializer&&(Object.defineProperty(e,t,s),s=null),s}var d=(r=u((i=function(){function e(){c(this,"display",r,this),c(this,"itemMgr",s,this),c(this,"recipeMgr",a,this)}var t=e.prototype;return t.displayChanged=function(){},t.showRec=function(e){l.a.baseApp.tooltip=this.recipeMgr.recipeList[e]},e}()).prototype,"display",[o.c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),s=u(i.prototype,"itemMgr",[o.c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),a=u(i.prototype,"recipeMgr",[o.c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),i)},"resources/elements/tool-tip.html":function(e,t,n){e.exports='<template>\r\n  <require from="../value-converters/lib/ObjectFilters"></require>\r\n  <require from="./icon-base"></require>\r\n  <div show.bind="display">\r\n    <div if.bind="display.type==\'recipe\'">\r\n      <h5>${display.name}</h5>\r\n      <icon-base repeat.for="ing of display.ingredients | objectValues" item.bind="ing.name" count.bind="ing.amount" click.delegate="showRec(ing.name)"></icon-base>\r\n      =>\r\n      <icon-base repeat.for="result of display.results | objectValues" item.bind="result.name" count.bind="result.amount"></icon-base>\r\n    </div>\r\n    <div if.bind="display.type==\'technology\'">\r\n      <h5>${display.name}</h5>\r\n      <icon-base repeat.for="unit of display.cost.ingredients" item.bind="unit[0]"></icon-base>\r\n      x${display.cost.count - global.research[display.name].completeUnits}\r\n      <p>\r\n        <icon-base repeat.for="unlock of display.unlocks" item.bind="unlock" show-name.bind="true"></icon-base>\r\n      </p>\r\n    </div>\r\n    <div if.bind="display.tool==\'stackArray\'">\r\n      <h5 class="d-inline">${display.tip}:</h5>\r\n      <icon-base\r\n        repeat.for="item of display.data"\r\n        item.bind="item.name"\r\n        show-name.bind="true"\r\n        required.bind="item.count"\r\n        class="pr-5"\r\n      ></icon-base>\r\n    </div>\r\n    <div if.bind="display.tool==\'blockCosts\'">\r\n      <h5 class="d-inline">${display.tip}:</h5>\r\n      <div class="stackedText">\r\n        <span>Land: ${display.data.landCost}</span><br>\r\n        <span>Complexity: +${display.data.complexity}</span>\r\n      </div>\r\n      <icon-base\r\n        repeat.for="item of display.data.items"\r\n        item.bind="item.name"\r\n        show-name.bind="true"\r\n        required.bind="item.count"\r\n        class="pr-5"\r\n      ></icon-base>\r\n    </div>\r\n  </div>\r\n</template>\r\n'},"resources/index":function(e,t,n){"use strict";n.r(t),n.d(t,"configure",(function(){return i}));n("70NS");function i(e){e.globalResources(["resources/elements/icon-base","resources/elements/inventory.html","resources/elements/active-trigger.html","resources/elements/micro/scopeVar.html","resources/value-converters/lib/ObjectFilters","resources/value-converters/valueconverters","resources/value-converters/isVisible","resources/value-converters/filter","resources/attributes/loading"])}}}]);
//# sourceMappingURL=app~e15de8b4.fa6e9174ddd192891d67.bundle.map